<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
        // console.log(arr.map(String));
        /*
        var arr1 = arr.map(function(data){
            return data+3;
        })
        console.log(arr1);
        */



        // var singleval= arr.reduce(function(prev,next){
        //     return prev+next;
        // },);
        // console.log(singleval);




        //语法：arr.reduce(callback,[initialValue])
        //calback:为数组中每一个元素依次执行回调函数：（接受参数）
        //    1.prev上一次调用回调函数的返回值，或者是提供的初始值(initialvalue)
        //    2.cur数组中当前被处理的元素
        //    3.index 当前元素在数组中的索引
        //    4.array 调用reduce的数组       
        //initialvalue:作为第一次调用callback的第一个参数   
        //    没有提供initialvalue会从索引为1的地方执行callback
        //    如果提供了initialvalue从索引为0开始  




/*        
        var arr = [1, 2, 3, 4];
        var sum = arr.reduce(function(prev,cur,index,arr){
            console.log(prev,cur,index);
            return prev+cur;
        })    
        console.log(arr,sum);
*/


        var  arr = [1, 2, 3, 4];
        var sum = arr.reduce(function(prev,cur,index,arr){
            // console.log(prev,cur,index);
            return prev.concat(cur);
        },[]);
        console.log(sum)

/*      求和求积
        var arr = [1,2,3,4,5];
        var sum = arr.reduce((x,y)=>x+y);
        var mul = arr.reduce((x,y)=>x*y);
        console.log(sum);
        console.log(mul);
*/


/*     计算数组中每个元素出现的次数
        let names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice'];
        let nameNum = names.reduce((prev,cur)=>{
            if(cur in prev){
                prev[cur]++
            }else{
                prev[cur] = 1
            }
            return prev
        },{});
        console.log(nameNum);
*/

/*
        数组去重复
        let arr = [1,2,3,4,4,1];
        let newarr = arr.reduce((prev,cur)=>{
            if(!prev.includes(cur)){
                return prev.concat(cur)
            }else{
                return prev
            }
        },[])
        console.log(newarr);
*/


/*
        二维数组转化成一维数组
        let arr = [[0, 1], [2, 3], [4, 5]];
        let newarr = arr.reduce((prev,cur)=>{
            return prev.concat(cur)
        },[])
        console.log(newarr);
*/


//     将多维数组转化为一维数组???????????????????????????????????？？？？？？？？？？？？？？？？？？？？、、
        let arr = [[0, 1], [2, 3], [4,[5,6,7]]];
        const newarr = function(arr){
            return arr.reduce((prev,cur)=>{
                console.log(prev,cur)
                 prev.concat(Array.isArray(cur)?newarr(cur):cur)
                 }
               ,[]
            )
        }
        console.log(newarr(arr));


/*      对象属性求和
        var result = [
            {
                subject: 'math',
                score: 10
            },
            {
                subject: 'chinese',
                score: 20
            },
            {
                subject: 'english',
                score: 30
            }
        ];
        var sum = result.reduce(function(prev,cur){
            return cur.score+prev;
        },0)    
        console.log(sum);
*/


/*
            数组去重？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？
            let colors = [{
                id: 0,
                colorName: 'red'
            },
            {
                id: 1,
                colorName: "orange"
            },
            {
                id: 2,
                colorName: "yellow"
            },
            {
                id: 3,
                colorName: "green"
            },
            {
                id: 1,
                colorName: "blue"
            },
            {
                id: 2,
                colorName: "purple"
            },
            ];
            let obj = {};
            colors = colors.reduce((prev,cur)=>{
                obj[cur.id]?'':obj[cur.id] = true&&cur.push(cur);
            })

*/
    </script>
</body>
</html>